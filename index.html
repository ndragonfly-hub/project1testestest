<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üíò</title>
  <style>
    :root{
      --bg:#8B0E2B;        /* ciemniejsze t≈Ço */
      --card:#4C0519;      /* t≈Ço elementu z napisem */
      --text:#FFF1F2;
      --muted: rgba(255,241,242,0.82);

      --green1:#16a34a;
      --green2:#22c55e;

      --red1:#b91c1c;
      --red2:#ef4444;

      --pink1:#FB7185;
      --pink2:#FDA4AF;

      --shadow: rgba(0,0,0,0.45);
      --border: rgba(255,241,242,0.18);
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      padding:24px;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background: var(--bg);
      overflow:hidden;
    }

    /* delikatny glow */
    body::before{
      content:"";
      position:fixed;
      inset:-25%;
      background:
        radial-gradient(900px 600px at 20% 15%, rgba(255,241,242,0.16), transparent 62%),
        radial-gradient(900px 600px at 80% 85%, rgba(251,113,133,0.18), transparent 62%);
      filter: blur(8px);
      pointer-events:none;
      opacity: 0.9;
    }

    .hearts{
      position:fixed;
      inset:0;
      pointer-events:none;
      opacity:.38;
      z-index:0;
    }
    .float-heart{
      position:absolute;
      bottom:-30px;
      animation: floatUp linear forwards;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,0.45));
    }
    @keyframes floatUp{
      from{ transform: translateY(0); opacity:0; }
      10%{ opacity:1; }
      to{ transform: translateY(-120vh); opacity:0; }
    }

    .card{
      width:min(680px, 94vw);
      border:1px solid var(--border);
      background: rgba(76, 5, 25, 0.90);
      border-radius:22px;
      padding:26px 18px 20px;
      box-shadow: 0 18px 60px var(--shadow);
      backdrop-filter: blur(10px);
      text-align:center;
      position:relative;
      z-index:1;
    }

    .view{ display:none; }
    .view.active{ display:block; animation: fadeUp .28s ease-out; }
    @keyframes fadeUp{
      from{ opacity:0; transform: translateY(8px); }
      to{ opacity:1; transform: translateY(0); }
    }

    h1{
      margin: 4px 0 10px;
      font-size: 28px;
      line-height:1.2;
      letter-spacing:0.2px;
      color:#fff;
    }

    .subtitle{
      margin:0 0 14px;
      color: var(--muted);
      line-height: 1.45;
      font-size: 15px;
    }

    .tip{
      margin-top: 12px;
      font-size: 12px;
      color: rgba(255,241,242,0.75);
    }

    .btns{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top: 12px;
    }
    button{
      border:0;
      border-radius:14px;
      padding:12px 14px;
      font-size:16px;
      font-weight:800;
      cursor:pointer;
      min-width: 220px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.35);
      transition: transform .08s ease, filter .15s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    button:hover{ filter: brightness(1.03); }
    button:active{ transform: translateY(1px) scale(0.99); }

    .yes{
      background: linear-gradient(90deg, var(--green1), var(--green2));
      color:#06210f;
    }
    .obviously{
      background: linear-gradient(90deg, var(--red1), var(--red2));
      color:#240606;
    }

    /* Ekran 2: ‚ÄúOtw√≥rz Walentynkƒô‚Äù */
    .openWrap{
      margin: 6px auto 0;
      display:grid;
      place-items:center;
      gap:12px;
    }
    .openCard{
      width:min(420px, 92%);
      padding:18px 16px;
      border-radius:18px;
      border:1px solid rgba(255,241,242,0.20);
      background: rgba(94, 8, 30, 0.45);
      box-shadow: 0 18px 60px rgba(0,0,0,0.30);
    }
    .openButton{
      width:min(420px, 92%);
      padding:14px 16px;
      border-radius:16px;
      border:1px solid rgba(255,241,242,0.22);
      background: linear-gradient(135deg, var(--pink1), var(--pink2));
      color:#2a0610;
      font-weight:900;
      font-size:16px;
      cursor:pointer;
      box-shadow: 0 16px 40px rgba(0,0,0,0.35);
    }
    .openButton:active{ transform: translateY(1px) scale(0.99); }

    /* Ekran 3: serce z fotƒÖ */
    .loveWrap{
      margin: 10px auto 10px;
      width:min(320px, 74vw);
      position:relative;
      display:grid;
      place-items:center;
      filter: drop-shadow(0 16px 40px rgba(0,0,0,0.45));
    }

    .heartFrame{
      width: 260px;
      height: 240px;
      position:relative;
    }

    /* Serce jako ‚Äúframe‚Äù */
    .heartShape{
      width:100%;
      height:100%;
      position:absolute;
      inset:0;
      /* start: r√≥≈ºowe t≈Ço, zanim poka≈ºe fotƒô */
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,0.70), transparent 40%),
        linear-gradient(135deg, var(--pink1), var(--pink2));
      animation: pulse 1.25s ease-in-out infinite;
      border-radius: 18px; /* fallback */
      overflow:hidden;
      clip-path: path("M128 222C128 222 20 154 20 85C20 45 48 20 82 20C104 20 121 32 128 45C135 32 152 20 174 20C208 20 236 45 236 85C236 154 128 222 128 222Z");
    }

    @keyframes pulse{
      0%,100%{ transform: scale(1); }
      50%{ transform: scale(1.05); }
    }

    /* Zdjƒôcie w sercu */
    .photoLayer{
      position:absolute;
      inset:0;
      background: url("photo1.jpg") center/cover no-repeat;
      /* dla pionowego zdjƒôcia: zwykle lepiej lekko podnie≈õƒá kadr */
      background-position: center 35%;
      opacity:0;
      transform: scale(1.02);
      transition: opacity 650ms ease, transform 650ms ease;
      filter: saturate(1.05) contrast(1.03);
    }

    .showPhoto .photoLayer{
      opacity:1;
      transform: scale(1);
    }

    /* Po≈Çysk, ale nie zas≈Çania zdjƒôcia ‚ÄúplamƒÖ‚Äù */
    .shine{
      position:absolute;
      inset:-55%;
      background: linear-gradient(120deg, transparent 45%, rgba(255,255,255,0.35) 50%, transparent 55%);
      transform: rotate(12deg);
      animation: shine 2.2s linear infinite;
      pointer-events:none;
      mix-blend-mode: screen;
      opacity:0.85;
    }
    @keyframes shine{
      from{ transform: translateX(-40%) rotate(12deg); }
      to{ transform: translateX(40%) rotate(12deg); }
    }

    .msg{
      margin: 6px 0 0;
      font-size: 16px;
      line-height: 1.45;
      color: rgba(255,241,242,0.95);
    }
    .msg strong{ color:#fff; }

    .sign{
      margin-top: 10px;
      font-size: 12px;
      color: rgba(255,241,242,0.78);
    }
  </style>
</head>

<body>
  <div class="hearts" aria-hidden="true"></div>

  <main class="card">
    <!-- Ekran 1 -->
    <section id="viewAsk" class="view active">
      <h1>Jacku, czy bƒôdziesz mojƒÖ WalentynkƒÖ?</h1>
      <p class="subtitle">Chyba nie my≈õla≈Çe≈õ, ≈ºe mo≈ºesz odpowiedzieƒá inaczej? ‚ù§Ô∏è</p>

      <div class="btns">
        <button class="yes" id="btnYes">TAK</button>
        <button class="obviously" id="btnRed">TAK, ALE CZERWONE</button>
      </div>

      <div class="tip">Uwaga: nie spierdol tego.</div>
    </section>

    <!-- Ekran 2 -->
    <section id="viewOpen" class="view">
      <h1>Okej. Dobra odpowied≈∫ üòå</h1>
      <p class="subtitle">Teraz kliknij jeszcze raz, ≈ºeby otworzyƒá Walentynkƒô.</p>

      <div class="openWrap">
        <div class="openCard">üì© Masz 1 nowƒÖ wiadomo≈õƒá od: Natalia</div>
        <button class="openButton" id="btnOpen">Otw√≥rz Walentynkƒô</button>
        <div class="tip">To te≈º jest podchwytliwe. Ale w dobrym sensie.</div>
      </div>
    </section>

    <!-- Ekran 3 -->
    <section id="viewLove" class="view">
      <div class="loveWrap" aria-hidden="true">
        <div id="heartBox" class="heartFrame">
          <div class="heartShape">
            <div class="photoLayer"></div>
            <div class="shine"></div>
          </div>
        </div>
      </div>

      <p class="msg">
        <strong>Kocham Ciƒô, Skarbie.</strong><br/>
        Baw siƒô dobrze w g√≥rach i wracaj do nas bezpiecznie.
      </p>
      <div class="sign">‚Äî Twoja Natalia üíò</div>
    </section>
  </main>

  <script>
    const heartsWrap = document.querySelector(".hearts");

    const viewAsk = document.getElementById("viewAsk");
    const viewOpen = document.getElementById("viewOpen");
    const viewLove = document.getElementById("viewLove");

    const btnYes = document.getElementById("btnYes");
    const btnRed = document.getElementById("btnRed");
    const btnOpen = document.getElementById("btnOpen");

    const heartBox = document.getElementById("heartBox");

    function goToOpen(){
      viewAsk.classList.remove("active");
      viewOpen.classList.add("active");
      burstHearts(12);
    }

    function goToLove(){
      viewOpen.classList.remove("active");
      viewLove.classList.add("active");

      // start: r√≥≈ºowe serce ‚Üí po chwili pokazujemy foto
      heartBox.classList.remove("showPhoto");
      setTimeout(() => heartBox.classList.add("showPhoto"), 700);

      burstHearts(22);
      setInterval(() => spawnHeart(randomEmoji()), 750);
    }

    btnYes.addEventListener("click", goToOpen);
    btnRed.addEventListener("click", goToOpen);
    btnOpen.addEventListener("click", goToLove);

    function randomEmoji(){
      const emojis = ["‚ù§Ô∏è","üíó","üíñ","üíò","üíû"];
      return emojis[Math.floor(Math.random()*emojis.length)];
    }

    function burstHearts(count){
      for(let i=0;i<count;i++){
        setTimeout(() => spawnHeart(randomEmoji()), i*55);
      }
    }

    function spawnHeart(char){
      const el = document.createElement("div");
      el.className = "float-heart";
      el.textContent = char;

      const x = Math.random() * window.innerWidth;
      const size = 14 + Math.random() * 18;
      const dur = 3 + Math.random() * 3;

      el.style.left = x + "px";
      el.style.fontSize = size + "px";
      el.style.animationDuration = dur + "s";

      heartsWrap.appendChild(el);
      setTimeout(() => el.remove(), dur * 1000);
    }
  </script>
</body>
</html>
